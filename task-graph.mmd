graph TD
    %% Hierarchy Awareness Implementation - Task Dependency Graph
    %% Generated from tasks.json (immutable-knitting-muffin)

    %% Phase 1: Foundation
    T1[T1: Create hierarchy-detector.sh script]

    %% Phase 2: Integration
    T2[T2: Update level-detector.sh with hierarchy awareness]
    T3[T3: Update template-setup-assistant with context detection]
    T7[T7: Update template-manager with level-based filtering]

    %% Phase 3: Documentation (parallel)
    T4[T4: Update init-org-template command documentation]
    T5[T5: Update set-org-level command documentation]
    T6[T6: Add hierarchy validation to validate-setup]

    %% Phase 4: Testing
    T8[T8: Create unit tests for hierarchy-detector]
    T9[T9: Create integration tests for hierarchical initialization]

    %% Dependencies
    T1 --> T2
    T1 --> T3
    T1 --> T7
    T1 --> T8

    T2 --> T9
    T3 --> T9
    T7 --> T9

    %% Styling
    classDef foundation fill:#e1f5ff,stroke:#01579b,stroke-width:3px
    classDef integration fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef documentation fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px
    classDef testing fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef critical fill:#ffebee,stroke:#c62828,stroke-width:3px

    class T1 foundation
    class T2,T3,T7 integration
    class T4,T5,T6 documentation
    class T8,T9 testing

    %% Mark critical path
    class T1,T2,T3,T7,T9 critical
